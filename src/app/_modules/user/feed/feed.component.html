<ion-header class="header-vine">
	<ion-toolbar>
		<ion-menu-button>
			<span class="fa fa-bars"></span>
		</ion-menu-button>
		<ion-title>Vine</ion-title>
		<div *ngIf="user" class="user-profile-pic--header">
			<img [src]="user.photoURL" alt="User Profile Image" [routerLink]="[ '/user/profile']" />
		</div>
	</ion-toolbar>
</ion-header>

<ion-content class="content-bg">
	<ion-refresher (ionRefresh)="doRefresh($event)">
		<ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles">
		</ion-refresher-content>
	</ion-refresher>
	<ion-grid no-padding>
		<ion-row>
			<ion-col size="12" offset="0" size-sm="10" offset-sm="1" size-lg="8" offset-lg="2" size-xl="6" offset-xl="3">
				<div class="post-feed-wrap">
					<ion-input placeholder="Post Something.." [(ngModel)]="newMessage"></ion-input>

					<ion-button class="post-feed-btn" (click)="addActivity()">
						Post <span class="fa fa-send"></span>
					</ion-button>
				</div>
			</ion-col>
		</ion-row>

		<ion-row>
			<ion-col size="12" offset="0" size-sm="10" offset-sm="1" size-lg="8" offset-lg="2" size-xl="6" offset-xl="3">

				<!--  feeds list -->
				<ion-list class="feed-list-wrap" *ngIf="activities?.length && !loading">
					<div class="feed-list" *ngFor="let activity of activities.slice().reverse()">
						<ion-item>
							<ion-avatar slot="start">
								<img [src]="activity.photoURL" alt="Profile Image" (click)="viewOtherProfile(activity)" />
							</ion-avatar>
							<ion-label>
								<h3 (click)="viewOtherProfile(activity)">{{activity.actor}}</h3>
								<h5>{{activity.time | date:"medium"}}</h5>
							</ion-label>
							<ion-button class="post-like-btn" (click)="addLikesToActivity(activity)">
								<i class="fa fa-thumbs-o-up"></i>
								<sup><span>{{activity.likes}}</span></sup>
							</ion-button>
						</ion-item>
						<p class="post-snippet">{{activity.object}}</p>
					</div>
				</ion-list>
				<div class="row" *ngIf="!activities?.length && !loading" text-center>
					<div class="ion-col text-center">
						<p>No activities available</p>
					</div>
				</div>
				<!-- <ion-spinner name="dots"></ion-spinner> -->
				<div class="text-center" *ngIf="!activities?.length && loading" text-center>
					<div *ngIf="!activities.length && loadingActivity" text-center>
						<ion-spinner name="dots"></ion-spinner>
						<div>Loading Feeds..</div>
					</div>

				</div>

			</ion-col>
		</ion-row>
	</ion-grid>

</ion-content>